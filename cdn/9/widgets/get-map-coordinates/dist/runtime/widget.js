System.register(["jimu-core","jimu-arcgis"],(function(e,t){var a={},i={};return{setters:[function(e){a.React=e.React},function(e){i.JimuMapViewComponent=e.JimuMapViewComponent}],execute:function(){e((()=>{var e={2686:e=>{"use strict";e.exports=i},9244:e=>{"use strict";e.exports=a}},t={};function r(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var n={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(n),r.d(n,{__set_webpack_public_path__:()=>o,default:()=>i});var e=r(9244),t=r(2686);const{useState:a}=e.React,i=i=>{var r;const[n,o]=a(""),[l,s]=a(""),[c,p]=a(null),[u,d]=a({}),m=e=>{if(!e)return;const t=e.view.map.layers.filter((e=>"feature"===e.type));t.forEach((e=>{e.watch("timeExtent",(e=>{t.forEach((t=>{t.when((()=>{t.queryFeatures({where:t.definitionExpression||"1=1",outFields:["Name","Stage_Gate","District"],returnGeometry:!1,timeExtent:e||null}).then((e=>{if(0===e.features.length)return;const t=e.features.reduce(((e,t)=>{const{Name:a,Stage_Gate:i,District:r}=t.attributes;return e[r]||(e[r]={}),(!e[r][a]||e[r][a]<i)&&(e[r][a]=i),e}),{});d(t)}))}))}))}))}))},f={1:"#146ACC",2:"#EE00FF",3:"#00BD4F",4:"#FAF200",5:"#F25900",6:"#F2006D",7:"#FF0000"},g=e=>f[e]||"gray";return e.React.createElement("div",{style:{padding:"2% 5%",textAlign:"left"}},e.React.createElement("h3",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"5px",color:"#1a1a1a"}},"Stage Gates by District"),Object.keys(u).length>0?e.React.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"40px",alignItems:"flex-end"}},Object.entries(u).map((([t,a])=>e.React.createElement("div",{key:t,style:{display:"flex",flexDirection:"column",alignItems:"space-between"}},e.React.createElement("div",{style:{display:"flex",gap:"15px",alignItems:"flex-end",height:"200px",borderBottom:"0.5px solid #00000080",padding:"10px",marginTop:"10px",borderRight:"0.5px solid #333"}},Object.entries(a).map((([t,a])=>{const i=Math.min(a/7*100,100);return e.React.createElement("div",{key:t,style:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative",marginRight:"15px"}},e.React.createElement("div",{style:{height:`${i}px`,width:"20px",backgroundColor:g(a),transition:"height 0.3s ease",overflow:"visible",whiteSpace:"nowrap"}}),e.React.createElement("div",{style:{position:"absolute",left:"-20px",bottom:"0",writingMode:"vertical-rl",textAlign:"center",fontSize:"14px",fontWeight:"bold",color:"#1a1a1a",transform:"rotate(180deg)",whiteSpace:"nowrap",minWidth:"20px",overflow:"visible"}},t))}))),e.React.createElement("h4",{style:{fontSize:"18px",color:"#1a1a1a",marginTop:"10px"}},t))))):e.React.createElement("p",{style:{fontSize:"18px",color:"#1a1a1a"}},"No data available. Select a map."),i.useMapWidgetIds&&1===i.useMapWidgetIds.length&&e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null===(r=i.useMapWidgetIds)||void 0===r?void 0:r[0],onActiveViewChange:e=>{e&&(p(e),m(e))}}),e.React.createElement("p",null))};function o(e){r.p=e}})(),n})())}}}));