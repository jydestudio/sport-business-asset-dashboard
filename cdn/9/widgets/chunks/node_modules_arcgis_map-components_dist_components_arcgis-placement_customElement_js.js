/*! For license information please see node_modules_arcgis_map-components_dist_components_arcgis-placement_customElement_js.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["node_modules_arcgis_map-components_dist_components_arcgis-placement_customElement_js"],{9840:(e,t,i)=>{function n(e,t){Array.isArray(t)?e._watchHandles=[...e._watchHandles,...t]:e._watchHandles.push(t)}function l(e){e.el.childElem&&(e.el.childElem.ownedBy=e.el);const t=function({el:e}){for(let t=e.parentElement;t;t=t?.parentElement??null){if(s.has(t.tagName.toLowerCase()))return t;if("ownedBy"in t&&t.ownedBy instanceof HTMLElement&&s.has(t.ownedBy.tagName.toLowerCase()))return t.ownedBy}}(e);if(!t){const t=w(e.referenceElement);return t?(a(t,e,!0),t):void v(e)}return function(e,t){if(e!==t)return!1;const i=e.tagName.toLowerCase();return"arcgis-expand"===i||"arcgis-placement"===i}(t,e.el.parent)||(e.el.parent=t,"arcgis-expand"===t.tagName.toLowerCase()?r(t,e):"arcgis-placement"===t.tagName.toLowerCase()?c(t,e):a(t,e,!1)),t}i.d(t,{a:()=>l,b:()=>n,c:()=>p,d:()=>d,e:()=>m,f:()=>h,i:()=>u,p:()=>f,r:()=>g});const s=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function o(e,t,i="arcgisReady"){const n=e;if("boolean"==typeof n.view?.ready)t(n.view);else{let n=function(l){l.target===e&&(o(e,t,i),e.removeEventListener(i,n))};e.addEventListener(i,n)}}const r=(e,t)=>o(e,(i=>{t.el.childElem&&null!=e.content&&e.content.append(t.el.childElem),e.expandIcon=t.icon||t.widget?.icon||e.expandIcon,t.position=e.position,t.el.view=i})),c=(e,t)=>o(e,(i=>{t.el.childElem&&t.el.append(t.el.childElem),t.position=e.position,t.el.view=i})),a=(e,t,i)=>o(e,(n=>{i?v(t):t.el.childElem&&function(e,t){const i=t.el.childElem??t.el,n=[...e.children],l={};for(const e of n){const t=e.getAttribute("position")??"manual";l[t]??=[],l[t].push({child:e,position:t,index:n.indexOf(e)})}const s=l[t.position??"manual"]?.findIndex((({child:e})=>e===t.el)),o=e.view.ui;o.remove(i),o.add(i,{position:t.position,index:s})}(e,t),t.el.view=n}),"arcgisViewReadyChange");function d(e){let t=!1,i=e.el.view;const n=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.el),"view")??{get:()=>i,set:e=>i=e};Object.defineProperty(e.el,"view",{get:n.get.bind(e.el),set:i=>{n.set.call(e.el,i),i&&!t&&(t=!0,e.arcgisReady.emit())},configurable:!0,enumerable:!0}),i&&(e.el.view=i)}function h(e){return null==e||""===e}function p(e,t){return null!=t&&e?.position===t.position&&e?.heading===t.heading&&e?.tilt===t.tilt&&e?.fov===t.fov}function u(e,t){return void 0===t||e?.targetGeometry!==t?.targetGeometry||e?.rotation!==t?.rotation||e?.scale!==t?.scale}function m(e,t){return f(t?.center,e)}function f(e,t){if("string"==typeof t)return f(e,t.split(",").map(Number));if(!e)return t;if(Array.isArray(t)){const i=t[0],n=t[1],l=t.length>2?t[2]:void 0;if(i!==e.longitude||n!==e.latitude||l!==e.z)return t}else if(t&&!e?.equals(t))return t}async function g(e,t){null!=t&&("string"==typeof t?e.el.view=await async function(e){const t=w(e);return await new Promise((e=>{"boolean"==typeof t?.view?.ready?e(t.view):t&&t.addEventListener("arcgisViewReadyChange",(()=>e(t.view)),{once:!0})}))}(t):e.widget&&(e.el.view=t.view))}function v(e){e.el.childElem&&(e.el.shadowRoot??e.el).append(e.el.childElem)}function w(e){return"string"!=typeof e?e??void 0:(e.includes("#")||e.includes(".")||e.includes("[")?void 0:document.querySelector(`#${e}`))??document.querySelector(e)??void 0}},3964:(e,t,i)=>{i.r(t),i.d(t,{ArcgisPlacement:()=>r});var n=i(8019),l=i(9840),s=i(498);const o=i(3826).AH`@layer{arcgis-placement{display:flex;pointer-events:auto;box-shadow:none}.arcgis-placement__container{display:block}}`;class r extends s.WF{constructor(){super(),this._observer=void 0,this._moveChildren=()=>{if(this.el.childElem.parentElement!==this.el)for(let e=this.el.firstElementChild;null!==e;e=this.el.firstElementChild)this.el.childElem.append(e)},this.position="bottom-left",this.arcgisReady=(0,s.lh)(),this.el.childElem=document.createElement("div"),this.el.childElem.classList.add("arcgis-placement__container"),this.listen("arcgisReady",this._startObserving,{once:!0})}static{this.properties={position:1,referenceElement:1}}static{this.shadowRootOptions=s.Iq}static{this.styles=o}connectedCallback(){super.connectedCallback(),this.el.view&&this._startObserving()}willUpdate(e){e.has("referenceElement")&&(0,l.r)(this,this.referenceElement),e.has("position")&&this.el.childElem&&void 0!==this.position&&this.el.view?.ui?.move(this.el.childElem,this.position)}loaded(){(0,l.d)(this),(0,l.a)(this)}disconnectedCallback(){super.disconnectedCallback(),this.el.childElem&&this.el.view?.ui?.remove(this.el.childElem),this._observer?.disconnect()}_startObserving(){this._moveChildren(),this._observer=new MutationObserver(this._moveChildren),this._observer.observe(this.el,{childList:!0})}}(0,n.c)("arcgis-placement",r)}}]);