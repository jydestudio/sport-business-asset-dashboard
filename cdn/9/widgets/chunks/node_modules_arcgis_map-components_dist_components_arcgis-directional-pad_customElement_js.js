/*! For license information please see node_modules_arcgis_map-components_dist_components_arcgis-directional-pad_customElement_js.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["node_modules_arcgis_map-components_dist_components_arcgis-directional-pad_customElement_js"],{5229:(t,e,i)=>{i.d(e,{g:()=>n});const n={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",ui:"esri-component",widget:"esri-widget esri-component",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},3:(t,e,i)=>{i.r(e),i.d(e,{ArcgisDirectionalPad:()=>f});var n=i(8019),o=i(6752),s=i(396),a=i(8695),r=i(8015),c=i(4312),l=i(9667),d=i(498),h=i(1881),u=i(7459),_=i(5229),p=i(3826);const g=[-45,0,45,-90,90,-135,180,135],b={0:{label:"north",iconName:"chevron-up"},45:{label:"northEast",iconName:"chevron-up-right"},90:{label:"east",iconName:"chevron-right"},135:{label:"southEast",iconName:"chevron-down-right"},180:{label:"south",iconName:"chevron-down"},"-135":{label:"southWest",iconName:"chevron-down-left"},"-90":{label:"west",iconName:"chevron-left"},"-45":{label:"northWest",iconName:"chevron-up-left"}},m="arcgis-directional-pad",v={base:m,buttonsContainer:`${m}__buttons-container`,button:`${m}__button`,compassButton:`${m}__compass`,rotationContainer:`${m}__rotation-container`,rotationSliderContainer:`${m}__rotation-slider-container`,rotationReset:`${m}__rotation-reset-button`,error:`${m}__error`},$=p.AH`@layer{.arcgis-directional-pad{display:flex;flex-direction:column;gap:var(--calcite-spacing-sm);outline:none;box-shadow:none!important;background-color:transparent!important;user-select:none;calcite-action-pad{display:contents}calcite-action-group{touch-action:none}calcite-action{aspect-ratio:1}}.arcgis-directional-pad__buttons-container{--calcite-color-background: transparent;--calcite-action-group-gap: 0;--calcite-action-group-padding: 0;calcite-action{--calcite-color-focus: var(--calcite-color-foreground-3)}calcite-action:not([active]){--calcite-action-background-color-press: var(--calcite-color-foreground-1)}calcite-action[active]{--calcite-action-background-color: var(--calcite-color-foreground-3)}calcite-icon{transform:var(--rotation, unset)}@media (hover: none){calcite-action{--calcite-action-background-color-hover: var(--calcite-color-foreground-1);--calcite-action-text-color-press: var(--calcite-color-text-3)}}}.arcgis-directional-pad__rotation-container{display:block;width:100%;calcite-action{flex:.3}}.arcgis-directional-pad__rotation-slider-container{display:flex;flex:1;align-items:center;calcite-slider{flex:1;padding-inline:var(--calcite-spacing-xxs)}}}`;const w=(0,u.m)(l.default);class f extends d.WF{constructor(){super(...arguments),this.messages=(0,h.u)({}),this._onContextMenu=t=>t.preventDefault(),this._buttons={},this.viewModel=w(this),this.angle=this.viewModel.angle,this.rotation=this.viewModel.rotation,this.autoDestroyDisabled=!1,this.disabled=this.viewModel.disabled,this.hideDirectionalButtons=!1,this.icon="move",this.position="bottom-left",this.showRotationResetButton=!1,this.showRotationSlider=!1,this.state=this.viewModel.state,this.visualScale="s",this.arcgisPropertyChange=(0,a.RY)()("state"),this.arcgisReady=(0,d.lh)()}static{this.properties={_rotationEnabled:16,angle:16,rotation:16,autoDestroyDisabled:5,disabled:5,hideDirectionalButtons:5,icon:3,label:1,messageOverrides:0,position:3,referenceElement:1,showRotationResetButton:5,showRotationSlider:5,state:3,visualScale:1}}static{this.shadowRootOptions=d.Iq}static{this.styles=$}get _rotationEnabled(){return!this.view?.ready||(this.view.constraints.rotationEnabled??!1)}async destroy(){await this.manager.destroy()}loaded(){this.manager.onLifecycle((()=>[(0,c.watch)((()=>this.viewModel.angle),(()=>{this._buttonsContainer?.contains(document.activeElement)&&(null==this.viewModel.angle?this.el.childElem?.focus():(0,r.pW)(this._buttons[this.viewModel.angle]))}))]))}_rotateIcon(t){return{"--rotation":`rotate(${t}deg)`}}_setButtonContainerRef(t){void 0!==t?(this._buttonsContainer=t,queueMicrotask((()=>{this._buttons=Object.fromEntries(Array.from(t.children,(t=>[Number.parseInt(t.getAttribute("data-angle")??""),t])))}))):(this._buttonsContainer=void 0,this._buttons={})}_onButtonPointerDown(t){if(void 0===this._buttonsContainer)return;t.composedPath().find((e=>e.hasPointerCapture?.(t.pointerId)))?.releasePointerCapture(t.pointerId);const e=function(t){const{x:e,y:i,width:n,height:o}=t.getBoundingClientRect();return{x:e+n/2,y:i+o/2}}(this._buttonsContainer);this.viewModel.beginFollowingPointer(t,e)}_onSliderInput({currentTarget:t}){"number"==typeof t.value&&(this.viewModel.rotation=t.value)}_onRotationReset(){this.viewModel.rotation=0}_onClick(t){this.viewModel.moveOnce(t)}render(){const{label:t,disabled:e}=this,i=null==this.view||"2d"===this.view.type;return o.qy`<div .ariaLabel=${t??void 0} class=${(0,d.CP)({[v.base]:!0,[_.g.widget]:!0,[_.g.disabled]:e})} tabindex=-1>${i?this._renderContent():this._renderUnsupportedMessage()}</div>`}_renderUnsupportedMessage(){return o.qy`<section class=${(0,d.CP)(v.error)}><p>${this.messages.unsupported}</p></section>`}_renderContent(){return[this.hideDirectionalButtons?void 0:this._renderDirectionalButtons(),this.showRotationSlider?this._renderRotation():void 0]}_renderDirectionalButtons(){return o.qy`<calcite-action-pad expand-disabled layout=grid><calcite-action-group class=${(0,d.CP)(v.buttonsContainer)} dir=ltr @contextmenu=${{handleEvent:this._onContextMenu,capture:!0}} ${(0,s.K)(this._setButtonContainerRef)}>${g.slice(0,4).map(this._renderButton,this)}${this._renderCompass()}${g.slice(4).map(this._renderButton,this)}</calcite-action-group></calcite-action-pad>`}_renderButton(t){const{label:e,iconName:i}=b[t],n=this.messages[e];return o.qy`<calcite-action .active=${this.angle===t} alignment=center class=${(0,d.CP)(v.button)} data-angle=${t??d.s6} .disabled=${this.disabled} @click=${this._onClick.bind(this,t)} @pointerdown=${this._onButtonPointerDown} .scale=${this.visualScale} .text=${n??""} title=${n??d.s6}><calcite-icon .icon=${i} .scale=${this.visualScale}></calcite-icon></calcite-action>`}_renderCompass(){const t=this.disabled||(n=this.view,n?.spatialReference?.isWebMercator||n?.spatialReference?.isGeographic)?"compass-needle":"arrow-up",e=0===this.rotation,i=this.messages.resetHeading;var n;return o.qy`<calcite-action alignment=center class=${(0,d.CP)(v.compassButton)} .disabled=${this.disabled||!this._rotationEnabled||e} @click=${this._onRotationReset} .scale=${this.visualScale} style=${(0,d.zl)(this._rotateIcon(this.rotation))} .text=${i??""} title=${i??d.s6}>${!e&&o.qy`<calcite-icon .icon=${t} .scale=${this.visualScale}></calcite-icon>`||""}</calcite-action>`}_renderRotation(){return o.qy`<calcite-action-pad expand-disabled layout=horizontal><calcite-action-group class=${(0,d.CP)(v.rotationContainer)}>${this.showRotationResetButton?this._renderRotationResetButton():null}${this._renderRotationSlider()}</calcite-action-group></calcite-action-pad>`}_renderRotationResetButton(){const t=this.messages.resetHeading;return o.qy`<calcite-action alignment=center class=${(0,d.CP)(v.rotationReset)} .disabled=${this.disabled||!this._rotationEnabled} @click=${this._onRotationReset} .scale=${this.visualScale} .text=${t??""} title=${t??d.s6}><calcite-icon flip-rtl icon=rotate .scale=${this.visualScale}></calcite-icon></calcite-action>`}_renderRotationSlider(){return o.qy`<div class=${(0,d.CP)(v.rotationSliderContainer)}><calcite-slider .ariaLabel=${this.messages.heading} .disabled=${this.disabled||!this._rotationEnabled} label-handles max=360 min=0 required .scale=${this.visualScale} .value=${Math.round(this.rotation)} @calciteSliderInput=${this._onSliderInput}></calcite-slider></div>`}}(0,n.c)("arcgis-directional-pad",f)},396:(t,e,i)=>{i.d(e,{_:()=>_,K:()=>b});var n=i(6752),o=i(8504),s=i(7804);const a=(t,e)=>{const i=t._$AN;if(void 0===i)return!1;for(const t of i)t._$AO?.(e,!1),a(t,e);return!0},r=t=>{let e,i;do{if(void 0===(e=t._$AM))break;i=e._$AN,i.delete(t),t=e}while(0===i?.size)},c=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(void 0===i)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),h(e)}};function l(t){void 0!==this._$AN?(r(this),this._$AM=t,c(this)):this._$AM=t}function d(t,e=!1,i=0){const n=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(e)if(Array.isArray(n))for(let t=i;t<n.length;t++)a(n[t],!1),r(n[t]);else null!=n&&(a(n,!1),r(n));else a(this,t)}const h=t=>{t.type==s.OA.CHILD&&(t._$AP??=d,t._$AQ??=l)};class u extends s.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,i){super._$AT(t,e,i),c(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(a(this,t),r(this))}setValue(t){if((0,o.Rt)(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}const _=()=>new p;class p{}const g=new WeakMap,b=(0,s.u$)(class extends u{render(t){return n.s6}update(t,[e]){const i=e!==this.Y;return i&&void 0!==this.Y&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.Y=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),n.s6}rt(t){if(this.isConnected||(t=void 0),"function"==typeof this.Y){const e=this.ht??globalThis;let i=g.get(e);void 0===i&&(i=new WeakMap,g.set(e,i)),void 0!==i.get(this.Y)&&this.Y.call(this.ht,void 0),i.set(this.Y,t),void 0!==t&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){return"function"==typeof this.Y?g.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})}}]);