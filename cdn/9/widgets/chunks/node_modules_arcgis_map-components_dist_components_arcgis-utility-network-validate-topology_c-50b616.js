/*! For license information please see node_modules_arcgis_map-components_dist_components_arcgis-utility-network-validate-topology_c-50b616.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["node_modules_arcgis_map-components_dist_components_arcgis-utility-network-validate-topology_c-50b616"],{9840:(e,t,i)=>{function n(e,t){Array.isArray(t)?e._watchHandles=[...e._watchHandles,...t]:e._watchHandles.push(t)}function s(e){e.el.childElem&&(e.el.childElem.ownedBy=e.el);const t=function({el:e}){for(let t=e.parentElement;t;t=t?.parentElement??null){if(o.has(t.tagName.toLowerCase()))return t;if("ownedBy"in t&&t.ownedBy instanceof HTMLElement&&o.has(t.ownedBy.tagName.toLowerCase()))return t.ownedBy}}(e);if(!t){const t=m(e.referenceElement);return t?(c(t,e,!0),t):void g(e)}return function(e,t){if(e!==t)return!1;const i=e.tagName.toLowerCase();return"arcgis-expand"===i||"arcgis-placement"===i}(t,e.el.parent)||(e.el.parent=t,"arcgis-expand"===t.tagName.toLowerCase()?a(t,e):"arcgis-placement"===t.tagName.toLowerCase()?r(t,e):c(t,e,!1)),t}i.d(t,{a:()=>s,b:()=>n,c:()=>w,d:()=>d,e:()=>v,f:()=>h,i:()=>u,p:()=>p,r:()=>f});const o=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function l(e,t,i="arcgisReady"){const n=e;if("boolean"==typeof n.view?.ready)t(n.view);else{let n=function(s){s.target===e&&(l(e,t,i),e.removeEventListener(i,n))};e.addEventListener(i,n)}}const a=(e,t)=>l(e,(i=>{t.el.childElem&&null!=e.content&&e.content.append(t.el.childElem),e.expandIcon=t.icon||t.widget?.icon||e.expandIcon,t.position=e.position,t.el.view=i})),r=(e,t)=>l(e,(i=>{t.el.childElem&&t.el.append(t.el.childElem),t.position=e.position,t.el.view=i})),c=(e,t,i)=>l(e,(n=>{i?g(t):t.el.childElem&&function(e,t){const i=t.el.childElem??t.el,n=[...e.children],s={};for(const e of n){const t=e.getAttribute("position")??"manual";s[t]??=[],s[t].push({child:e,position:t,index:n.indexOf(e)})}const o=s[t.position??"manual"]?.findIndex((({child:e})=>e===t.el)),l=e.view.ui;l.remove(i),l.add(i,{position:t.position,index:o})}(e,t),t.el.view=n}),"arcgisViewReadyChange");function d(e){let t=!1,i=e.el.view;const n=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.el),"view")??{get:()=>i,set:e=>i=e};Object.defineProperty(e.el,"view",{get:n.get.bind(e.el),set:i=>{n.set.call(e.el,i),i&&!t&&(t=!0,e.arcgisReady.emit())},configurable:!0,enumerable:!0}),i&&(e.el.view=i)}function h(e){return null==e||""===e}function w(e,t){return null!=t&&e?.position===t.position&&e?.heading===t.heading&&e?.tilt===t.tilt&&e?.fov===t.fov}function u(e,t){return void 0===t||e?.targetGeometry!==t?.targetGeometry||e?.rotation!==t?.rotation||e?.scale!==t?.scale}function v(e,t){return p(t?.center,e)}function p(e,t){if("string"==typeof t)return p(e,t.split(",").map(Number));if(!e)return t;if(Array.isArray(t)){const i=t[0],n=t[1],s=t.length>2?t[2]:void 0;if(i!==e.longitude||n!==e.latitude||s!==e.z)return t}else if(t&&!e?.equals(t))return t}async function f(e,t){null!=t&&("string"==typeof t?e.el.view=await async function(e){const t=m(e);return await new Promise((e=>{"boolean"==typeof t?.view?.ready?e(t.view):t&&t.addEventListener("arcgisViewReadyChange",(()=>e(t.view)),{once:!0})}))}(t):e.widget&&(e.el.view=t.view))}function g(e){e.el.childElem&&(e.el.shadowRoot??e.el).append(e.el.childElem)}function m(e){return"string"!=typeof e?e??void 0:(e.includes("#")||e.includes(".")||e.includes("[")?void 0:document.querySelector(`#${e}`))??document.querySelector(e)??void 0}},5864:(e,t,i)=>{i.d(t,{o:()=>s});var n=i(8015);function s(e){e.el.childElem?e.el.isConnected||(e.view?.ui?e.view.ui.remove(e.el.childElem):e.widget?.view&&e.widget.view.ui.remove(e.el.childElem),e._watchHandles&&e._watchHandles.forEach((e=>{e.remove()})),e._watchHandles=[],e.widget?.destroy()):(0,n.oK)((()=>{e.el.isConnected||(e.view?.ui?e.view.ui.remove(e.el):e.widget?.view&&e.widget.view.ui.remove(e.el),e._watchHandles&&e._watchHandles.forEach((e=>{e.remove()})),e._watchHandles=[],e.widget?.destroy())}),1e3)}},8141:(e,t,i)=>{i.r(t),i.d(t,{ArcgisUtilityNetworkValidateTopology:()=>d});var n=i(8019),s=i(396),o=i(9521),l=i(9840),a=i(5864),r=i(6337),c=i(498);class d extends c.WF{constructor(){super(...arguments),this._watchHandles=[],this.extentToValidate="current",this.position="bottom-left",this.arcgisReady=(0,c.lh)()}static{this.properties={extentToValidate:1,position:1,referenceElement:1,utilityNetwork:0,view:0,widget:0}}static{this.shadowRootOptions=c.Iq}willUpdate(e){e.has("referenceElement")&&this.referenceElementWatcher(this.referenceElement),e.has("extentToValidate")&&this.extentToValidateWatcher(this.extentToValidate),e.has("utilityNetwork")&&this.utilityNetworkWatcher(this.utilityNetwork),e.has("position")&&this.positionWatcher(this.position),e.has("view")&&this.viewWatcher(this.view)}async loaded(){const e=this._createParams(),t=new o.default(e);this.widget=t,this._addContainer(),(0,l.d)(this),(0,l.a)(this)}disconnectedCallback(){super.disconnectedCallback(),(0,a.o)(this)}referenceElementWatcher(e){(0,l.r)(this,e)}extentToValidateWatcher(e){this.widget&&(this.widget.extentToValidate=e)}utilityNetworkWatcher(e){this.widget&&e&&(this.widget.utilityNetwork=e)}positionWatcher(e){void 0!==e&&this.widget&&this.el.childElem&&this.view.ui?.move(this.el.childElem,e)}viewWatcher(e){void 0!==e&&this.widget&&(this.widget.view=e,this._loadUtilityNetwork())}_addContainer(){this.widget.container=this.el.childElem}_createParams(){const e={};return void 0!==this.extentToValidate&&(e.extentToValidate=this.extentToValidate),void 0!==this.utilityNetwork&&(e.utilityNetwork=this.utilityNetwork),e}async _loadUtilityNetwork(){if(this.view?.map&&this.view.map.portalItem){await this.view.map.load();const e=this.view.map.utilityNetworks?.getItemAt(0);await(e?.load()),this.utilityNetwork=e}}_setChildElement(e){this.el.childElem=e}render(){return r.qy`<div ${(0,s.K)(this._setChildElement)}></div>`}}(0,n.c)("arcgis-utility-network-validate-topology",d)},396:(e,t,i)=>{i.d(t,{_:()=>u,K:()=>f});var n=i(6752),s=i(8504),o=i(7804);const l=(e,t)=>{const i=e._$AN;if(void 0===i)return!1;for(const e of i)e._$AO?.(t,!1),l(e,t);return!0},a=e=>{let t,i;do{if(void 0===(t=e._$AM))break;i=t._$AN,i.delete(e),e=t}while(0===i?.size)},r=e=>{for(let t;t=e._$AM;e=t){let i=t._$AN;if(void 0===i)t._$AN=i=new Set;else if(i.has(e))break;i.add(e),h(t)}};function c(e){void 0!==this._$AN?(a(this),this._$AM=e,r(this)):this._$AM=e}function d(e,t=!1,i=0){const n=this._$AH,s=this._$AN;if(void 0!==s&&0!==s.size)if(t)if(Array.isArray(n))for(let e=i;e<n.length;e++)l(n[e],!1),a(n[e]);else null!=n&&(l(n,!1),a(n));else l(this,e)}const h=e=>{e.type==o.OA.CHILD&&(e._$AP??=d,e._$AQ??=c)};class w extends o.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,i){super._$AT(e,t,i),r(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(l(this,e),a(this))}setValue(e){if((0,s.Rt)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}const u=()=>new v;class v{}const p=new WeakMap,f=(0,o.u$)(class extends w{render(e){return n.s6}update(e,[t]){const i=t!==this.Y;return i&&void 0!==this.Y&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.Y=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),n.s6}rt(e){if(this.isConnected||(e=void 0),"function"==typeof this.Y){const t=this.ht??globalThis;let i=p.get(t);void 0===i&&(i=new WeakMap,p.set(t,i)),void 0!==i.get(this.Y)&&this.Y.call(this.ht,void 0),i.set(this.Y,e),void 0!==e&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){return"function"==typeof this.Y?p.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})}}]);