/*! For license information please see node_modules_arcgis_map-components_dist_components_arcgis-version-management-version-properti-cffced.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["node_modules_arcgis_map-components_dist_components_arcgis-version-management-version-properti-cffced"],{5442:(e,t,i)=>{i.r(t),i.d(t,{ArcgisVersionManagementVersionProperties:()=>r});var s=i(8019),c=i(6752),a=i(396),n=i(498);const o=i(3826).AH`@layer{:host{display:none;background:#bdf2c4}:host([selected]){display:flex}.properties-buttons{display:flex}}`;class r extends n.WF{constructor(){super(...arguments),this._flowItemElement=(0,a._)(),this._switchToVersion=!0,this._switchToVersionCheckboxElement=(0,a._)(),this._versionNameInputElement=(0,a._)(),this.selected=!1,this.showBackButton=!1,this.arcgisAlterVersion=(0,n.lh)(),this.arcgisCreateVersion=(0,n.lh)(),this.arcgisFlowItemBack=(0,n.lh)(),this.arcgisFlowItemClose=(0,n.lh)()}static{this.properties={selected:7,showBackButton:7,versionPropertiesElementProps:0}}static{this.shadowRootOptions=n.Iq}static{this.styles=o}load(){const{versionPropertiesElementProps:{versionInfo:e}}=this;e?(this._mode="edit",this._fullVersionName=e.versionIdentifier.name,this._ownerName=this._fullVersionName.substring(0,this._fullVersionName.lastIndexOf(".")),this._versionName=this._fullVersionName.substring(this._fullVersionName.lastIndexOf(".")+1)):this._mode="create"}updated(){"create"===this._mode&&this._versionNameInputElement.value?.setFocus()}async setFocus(){this._flowItemElement.value?.setFocus()}goBack(){}_handleCancel(){this.arcgisFlowItemBack.emit()}_handleChange(e){const{_mode:t,_ownerName:i,_versionName:s,versionPropertiesElementProps:{currentUser:c,isVersionAdministrator:a,serviceUrl:n,versionInfo:o}}=this;let{_alterVersionParameters:r,_createVersionParameters:l}=this;switch("create"===t&&(l||(l={access:"public",description:"",featureServerUrl:n,ownerName:c,versionName:""})),"edit"===t&&(r||(r={featureServerUrl:n,versionIdentifier:o.versionIdentifier,ownerName:i,versionName:s,access:o.access,description:o.description})),e.type){case"calciteChipGroupSelect":{const i=e.target.label,s=e.target.selectedItems[0].value;"create"===t&&(l={...l,[i]:s}),"edit"===t&&(r={...r,[i]:s});break}case"calciteInputTextInput":{const i=e.target.name,s=e.target.value;"create"===t&&(l={...l,[i]:s}),"edit"===t&&(r={...r,[i]:s});break}case"calciteTextAreaInput":{const i=e.target.name,s=e.target.value;"create"===t&&(l={...l,[i]:s}),"edit"===t&&(r={...r,[i]:s});break}}"create"===t&&("public"===l.access||c.toUpperCase()===l.ownerName?.toUpperCase()||a?this._switchToVersionCheckboxElement.value.disabled=!1:(this._switchToVersionCheckboxElement.value.checked=!1,this._switchToVersionCheckboxElement.value.disabled=!0,this._switchToVersion=!1),this._createVersionParameters=l),"edit"===t&&(this._alterVersionParameters=r)}_handleClose(){this.arcgisFlowItemClose.emit()}_handleSave(){const{_alterVersionParameters:e,_createVersionParameters:t,_mode:i,_switchToVersion:s}=this;"create"===i&&this.arcgisCreateVersion.emit({createVersionParameters:t,switchToVersion:s}),"edit"===i&&this.arcgisAlterVersion.emit({alterVersionParameters:e})}_handleSwitchToVersionChange(e){this._switchToVersion=e.target.checked}render(){const{selected:e,showBackButton:t,versionPropertiesElementProps:{closable:i,currentUser:s,hasAdvEditingUte:n,state:o,strings:r,versionInfo:l},_mode:h,_ownerName:d,_versionName:p}=this,u=c.qy`<div class="properties-buttons"><calcite-button appearance=outline width=half @click=${this._handleCancel}>${r.actions.cancelSave}</calcite-button><calcite-button width=half @click=${this._handleSave}>${r.actions.saveVersion}</calcite-button></div>`,_=c.qy`<calcite-label>${r.input.versionAccess}<calcite-chip-group label=access @calciteChipGroupSelect=${this._handleChange} selection-mode=single-persist><calcite-chip .selected=${"edit"===h&&"public"===l.access||"create"===h} label=public>${r.accessLevels.public}</calcite-chip><calcite-chip .selected=${"edit"===h&&"protected"===l.access} label=protected>${r.accessLevels.protected}</calcite-chip><calcite-chip .selected=${"edit"===h&&"private"===l.access} label=private>${r.accessLevels.private}</calcite-chip></calcite-chip-group></calcite-label>`,m=c.qy`<calcite-label>${r.input.versionDescription}<calcite-text-area name=description @calciteTextAreaInput=${this._handleChange} resize=vertical .value=${"edit"===h?l.description:""}></calcite-text-area></calcite-label>`,v=c.qy`<calcite-label>${r.input.versionName}<calcite-input-text name=versionName @calciteInputTextInput=${this._handleChange} max-length=62 .value=${"edit"===h?p:""} ${(0,a.K)(this._versionNameInputElement)}></calcite-input-text></calcite-label>`,$=c.qy`<calcite-label>${r.input.versionOwner}<calcite-input-text name=ownerName @calciteInputTextInput=${this._handleChange} .disabled=${!n} .value=${"edit"===h?d:s}></calcite-input-text></calcite-label>`,b="create"===h?c.qy`<calcite-label layout=inline><calcite-checkbox checked name=switchToVersion @calciteCheckboxChange=${this._handleSwitchToVersionChange} ${(0,a.K)(this._switchToVersionCheckboxElement)}></calcite-checkbox>${r.actions.switchToVersion}</calcite-label>`:void 0;return c.qy`<calcite-flow-item .closable=${i} .description=${l?l.versionIdentifier.name:""} .heading=${l?r.actions.editVersion:r.actions.newVersion} .selected=${e} .showBackButton=${t} @calciteFlowItemClose=${this._handleClose} ${(0,a.K)(this._flowItemElement)}><calcite-panel .loading=${"executing"===o}><calcite-block .label=${r.headers.versionProperties} open>${v}${m}${_}${$}${b}${u}</calcite-block></calcite-panel></calcite-flow-item>`}}(0,s.c)("arcgis-version-management-version-properties",r)},396:(e,t,i)=>{i.d(t,{_:()=>u,K:()=>v});var s=i(6752),c=i(8504),a=i(7804);const n=(e,t)=>{const i=e._$AN;if(void 0===i)return!1;for(const e of i)e._$AO?.(t,!1),n(e,t);return!0},o=e=>{let t,i;do{if(void 0===(t=e._$AM))break;i=t._$AN,i.delete(e),e=t}while(0===i?.size)},r=e=>{for(let t;t=e._$AM;e=t){let i=t._$AN;if(void 0===i)t._$AN=i=new Set;else if(i.has(e))break;i.add(e),d(t)}};function l(e){void 0!==this._$AN?(o(this),this._$AM=e,r(this)):this._$AM=e}function h(e,t=!1,i=0){const s=this._$AH,c=this._$AN;if(void 0!==c&&0!==c.size)if(t)if(Array.isArray(s))for(let e=i;e<s.length;e++)n(s[e],!1),o(s[e]);else null!=s&&(n(s,!1),o(s));else n(this,e)}const d=e=>{e.type==a.OA.CHILD&&(e._$AP??=h,e._$AQ??=l)};class p extends a.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,i){super._$AT(e,t,i),r(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(n(this,e),o(this))}setValue(e){if((0,c.Rt)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}const u=()=>new _;class _{}const m=new WeakMap,v=(0,a.u$)(class extends p{render(e){return s.s6}update(e,[t]){const i=t!==this.Y;return i&&void 0!==this.Y&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.Y=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),s.s6}rt(e){if(this.isConnected||(e=void 0),"function"==typeof this.Y){const t=this.ht??globalThis;let i=m.get(t);void 0===i&&(i=new WeakMap,m.set(t,i)),void 0!==i.get(this.Y)&&this.Y.call(this.ht,void 0),i.set(this.Y,e),void 0!==e&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){return"function"==typeof this.Y?m.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})}}]);