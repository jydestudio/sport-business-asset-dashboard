/*! For license information please see vendors-node_modules_arcgis_map-components_dist_components_arcgis-link-chart_customElement_js.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-node_modules_arcgis_map-components_dist_components_arcgis-link-chart_customElement_js"],{8887:(e,t,i)=>{i.d(t,{XN:()=>p,_i:()=>c,uZ:()=>h,zR:()=>d});var s,n=i(6343),a=i(6754),r=i(8015);async function o(){return s??(s=(0,a.importCoreReactiveUtils)()),await s}var c=(e,t)=>(t,i)=>l(t,e,i),h=class extends n.Wz{constructor(e,t,i){super(e),this._loadAccessor=t,this._options=i,this._watchedProperties=new Map,this._isBinding={value:!0},this.setProvisionalExports(d.makeGetterProxy(e,this._watchedProperties,this._isBinding,this.constructor.allowedPropNameMismatches)),(0,n.Yd)(e,(e=>{e&&(this._instancePropName=e)}),this.exports)}hostConnected(){this._isBinding.value=!1}async hostLoad(){this.reactiveUtils=await o();const e=this.component,t=this._gatherParameters(),i=this._options?.editConstructorProperties?.call(e,t)??t,s=i instanceof Promise?await i:i,n=e,a="string"==typeof this._instancePropName?n[this._instancePropName]:void 0;null!=a&&a!==this.exports?(this._instance=a,a.set(s)):this._instance=await this._createInstance(s),e.manager.destroyed||(d.watchComponentUpdates(this,this._instance,this._watchedProperties),d.watchAccessorUpdates(this,this._instance,this._watchedProperties),this.exports=this._instance)}_gatherParameters(){return Object.fromEntries(Array.from(this._watchedProperties,(([e,t])=>[t,this.component[e]])).filter((([,e])=>void 0!==e)))}async _createInstance(e){return this._isAccessorConstructor(this._loadAccessor)?new this._loadAccessor(e):await this._loadAccessor(e)}_isAccessorConstructor(e){return"prototype"in e&&"declaredClass"in e.prototype}hostDestroy(){this._instance&&this._instance.destroy()}async reCreate(){this.hostDestroy(),await this.hostLoad()}},l=(0,n.W7)(h),d={makeGetterProxy:(e,t,i,s)=>new Proxy({},{has:(e,t)=>"string"==typeof t||t in e,get:(s,a)=>{const r=Reflect.get(s,a);if("symbol"==typeof a||a in Promise.prototype)return r;return a in s||!(i?.value??!0)?r:t.has(a)?void 0:(0,n.Nh)(e,(e=>{void 0!==e&&t.set(e.key,a)}),r)}}),watchComponentUpdates(e,t,i){function s(e,s){const n=i.get(s),a=t[n];return"boolean"==typeof a&&n!==s&&s.toLowerCase().includes("disable")?!a:a}const n=(e,s,n)=>{const r=i.get(n),o=t[r],c="boolean"==typeof o&&r!==n&&n.toLowerCase().includes("disable");if((c?!o:a.manager.isLit?o??void 0:o)===e)return e;t[r]=c?!e:e;const h=t[r];return c?!h:h},a=e.component,r=a.manager.internals;i.forEach(((e,t)=>{r.accessorGetter[t]=s,r.accessorSetter[t]=n}))},watchAccessorUpdates(e,t,i){const{component:s}=e,a=s,r=t,o=function(e){const t=e,i=Object.entries(t.__accessor__?.metadata??{});return new Set(i.filter((([e,t])=>!0===t?.readOnly)).map((([e])=>e)))}(t);(0,n.Gn)((()=>i.forEach(((e,t)=>{if(o.has(e))return;const i=a[t];let n=r[e];s.manager.isLit&&(n??(n=void 0));const c="boolean"==typeof i&&e!==t&&t.toLowerCase().includes("disable")?!i:i;null!=c&&n!==c&&(r[e]=c)})))),e.onLifecycle((()=>{if(!t.destroyed)return Array.from(i,(([t,i])=>e.reactiveUtils.watch((()=>r[i]),(()=>{const e=r[i],s="boolean"==typeof e&&i!==t&&t.toLowerCase().includes("disable")?!e:e;(0,n.WV)((()=>{a[t]=s}))}),{initial:!0})))}))},reEmitAccessorEvents(e,t,i,s){if(!("on"in t&&"function"==typeof t.on))return;const n=Object.entries(e.component).map((([e,t])=>{const i=t;if(!e.startsWith(s)||e===s||"object"!=typeof i||null===i||!("emit"in i)||"function"!=typeof i.emit)return;const n=i.emit,a=e.slice(s.length);return[(0,r.j1)(a).toLowerCase(),n]})).filter(r.EA);if(0===n.length)return;const a=t,o=()=>a;e.onLifecycle((()=>{if(!t.destroyed)return n.map((([e,t])=>i.on(o,e,t)))}))},async reCreate(e,t){const i=t.manager.useRefSync(e);void 0!==i&&await i.reCreate()}};function p(e,t){const i=(0,n.Gk)();const s=i.manager,a=o();s.onLoaded((()=>{a.then((i=>s.onLifecycle((()=>i.on(e,t,r.emit)))))}));const r=i.constructor.$createEvent();return r}},9840:(e,t,i)=>{function s(e,t){Array.isArray(t)?e._watchHandles=[...e._watchHandles,...t]:e._watchHandles.push(t)}function n(e){e.el.childElem&&(e.el.childElem.ownedBy=e.el);const t=function({el:e}){for(let t=e.parentElement;t;t=t?.parentElement??null){if(a.has(t.tagName.toLowerCase()))return t;if("ownedBy"in t&&t.ownedBy instanceof HTMLElement&&a.has(t.ownedBy.tagName.toLowerCase()))return t.ownedBy}}(e);if(!t){const t=y(e.referenceElement);return t?(h(t,e,!0),t):void g(e)}return function(e,t){if(e!==t)return!1;const i=e.tagName.toLowerCase();return"arcgis-expand"===i||"arcgis-placement"===i}(t,e.el.parent)||(e.el.parent=t,"arcgis-expand"===t.tagName.toLowerCase()?o(t,e):"arcgis-placement"===t.tagName.toLowerCase()?c(t,e):h(t,e,!1)),t}i.d(t,{a:()=>n,b:()=>s,c:()=>p,d:()=>l,e:()=>u,f:()=>d,i:()=>w,p:()=>m,r:()=>v});const a=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function r(e,t,i="arcgisReady"){const s=e;if("boolean"==typeof s.view?.ready)t(s.view);else{let s=function(n){n.target===e&&(r(e,t,i),e.removeEventListener(i,s))};e.addEventListener(i,s)}}const o=(e,t)=>r(e,(i=>{t.el.childElem&&null!=e.content&&e.content.append(t.el.childElem),e.expandIcon=t.icon||t.widget?.icon||e.expandIcon,t.position=e.position,t.el.view=i})),c=(e,t)=>r(e,(i=>{t.el.childElem&&t.el.append(t.el.childElem),t.position=e.position,t.el.view=i})),h=(e,t,i)=>r(e,(s=>{i?g(t):t.el.childElem&&function(e,t){const i=t.el.childElem??t.el,s=[...e.children],n={};for(const e of s){const t=e.getAttribute("position")??"manual";n[t]??=[],n[t].push({child:e,position:t,index:s.indexOf(e)})}const a=n[t.position??"manual"]?.findIndex((({child:e})=>e===t.el)),r=e.view.ui;r.remove(i),r.add(i,{position:t.position,index:a})}(e,t),t.el.view=s}),"arcgisViewReadyChange");function l(e){let t=!1,i=e.el.view;const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.el),"view")??{get:()=>i,set:e=>i=e};Object.defineProperty(e.el,"view",{get:s.get.bind(e.el),set:i=>{s.set.call(e.el,i),i&&!t&&(t=!0,e.arcgisReady.emit())},configurable:!0,enumerable:!0}),i&&(e.el.view=i)}function d(e){return null==e||""===e}function p(e,t){return null!=t&&e?.position===t.position&&e?.heading===t.heading&&e?.tilt===t.tilt&&e?.fov===t.fov}function w(e,t){return void 0===t||e?.targetGeometry!==t?.targetGeometry||e?.rotation!==t?.rotation||e?.scale!==t?.scale}function u(e,t){return m(t?.center,e)}function m(e,t){if("string"==typeof t)return m(e,t.split(",").map(Number));if(!e)return t;if(Array.isArray(t)){const i=t[0],s=t[1],n=t.length>2?t[2]:void 0;if(i!==e.longitude||s!==e.latitude||n!==e.z)return t}else if(t&&!e?.equals(t))return t}async function v(e,t){null!=t&&("string"==typeof t?e.el.view=await async function(e){const t=y(e);return await new Promise((e=>{"boolean"==typeof t?.view?.ready?e(t.view):t&&t.addEventListener("arcgisViewReadyChange",(()=>e(t.view)),{once:!0})}))}(t):e.widget&&(e.el.view=t.view))}function g(e){e.el.childElem&&(e.el.shadowRoot??e.el).append(e.el.childElem)}function y(e){return"string"!=typeof e?e??void 0:(e.includes("#")||e.includes(".")||e.includes("[")?void 0:document.querySelector(`#${e}`))??document.querySelector(e)??void 0}},802:(e,t,i)=>{i.r(t),i.d(t,{ArcgisLinkChart:()=>w});var s=i(8019),n=i(8887),a=i(4312),r=i(7514),o=i(7166),c=i(498),h=i(9840);const l=i(3826).AH`@layer{.arcgis-link-chart{padding:0;margin:0;height:100%;width:100%}}`,d=(0,n._i)(o.default,{}),p=(0,n._i)(r.default,{});class w extends c.WF{constructor(){super(...arguments),this._center=void 0,this._extent=void 0,this._itemId=void 0,this._scale=void 0,this._viewpoint=void 0,this._zoom=void 0,this._map=d(this,{editConstructorProperties:this._editMapProperties}),this.view=p(this,{editConstructorProperties:this._editViewProperties}),this.allLayerViews=this.view.allLayerViews,this.autoDestroyDisabled=!1,this.background=this.view.background,this.basemap=this._map.basemap,this.basemapView=this.view.basemapView,this.constraints=this.view.constraints,this.displayFilterDisabled=this.view.displayFilterEnabled,this.fatalError=this.view.fatalError,this.graphics=this.view.graphics,this.highlights=this.view.highlights,this.layerViews=this.view.layerViews,this.magnifier=this.view.magnifier,this.map=this.view.map,this.navigation=this.view.navigation,this.padding=this.view.padding,this.popup=this.view.popup,this.popupDisabled=this.view.popupEnabled,this.ready=this.view.ready,this.resizeAlign=this.view.resizeAlign,this.resolution=this.view.resolution,this.rotation=this.view.rotation,this.spatialReference=this.view.spatialReference,this.suspended=this.view.suspended,this.theme=this.view.theme,this.timeExtent=this.view.timeExtent,this.timeZone=this.view.timeZone,this.updating=this.view.updating,this.arcgisViewChange=(0,c.lh)(),this.arcgisViewClick=(0,n.XN)((()=>this.view),"click"),this.arcgisViewDoubleClick=(0,n.XN)((()=>this.view),"double-click"),this.arcgisViewDrag=(0,n.XN)((()=>this.view),"drag"),this.arcgisViewHold=(0,n.XN)((()=>this.view),"hold"),this.arcgisViewImmediateClick=(0,n.XN)((()=>this.view),"immediate-click"),this.arcgisViewImmediateDoubleClick=(0,n.XN)((()=>this.view),"immediate-double-click"),this.arcgisViewKeyDown=(0,n.XN)((()=>this.view),"key-down"),this.arcgisViewKeyUp=(0,n.XN)((()=>this.view),"key-up"),this.arcgisViewLayerviewCreate=(0,n.XN)((()=>this.view),"layerview-create"),this.arcgisViewLayerviewCreateError=(0,n.XN)((()=>this.view),"layerview-create-error"),this.arcgisViewLayerviewDestroy=(0,n.XN)((()=>this.view),"layerview-destroy"),this.arcgisViewMouseWheel=(0,n.XN)((()=>this.view),"mouse-wheel"),this.arcgisViewPointerDown=(0,n.XN)((()=>this.view),"pointer-down"),this.arcgisViewPointerEnter=(0,n.XN)((()=>this.view),"pointer-enter"),this.arcgisViewPointerLeave=(0,n.XN)((()=>this.view),"pointer-leave"),this.arcgisViewPointerMove=(0,n.XN)((()=>this.view),"pointer-move"),this.arcgisViewPointerUp=(0,n.XN)((()=>this.view),"pointer-up"),this.arcgisViewReadyChange=(0,c.lh)()}static{this.properties={_map:16,view:32,allLayerViews:0,autoDestroyDisabled:5,background:0,basemap:1,basemapView:0,center:1,constraints:0,displayFilterDisabled:5,extent:0,fatalError:0,graphics:0,highlights:0,interacting:32,itemId:3,layerViews:0,magnifier:0,map:0,navigating:32,navigation:0,padding:0,popup:0,popupDisabled:5,ready:4,resizeAlign:1,resolution:8,rotation:9,scale:9,spatialReference:0,stationary:32,suspended:7,theme:0,timeExtent:0,timeZone:1,updating:7,viewpoint:0,zoom:9}}static{this.shadowRootOptions=c.Iq}static{this.styles=l}get center(){return this.view.center??this._center}set center(e){const t=(0,h.e)(e,this.ready?this.view:void 0);t&&(this.ready&&(this.view.center=t),this._center=t)}get extent(){return this.view.extent??this._extent}set extent(e){this.view.ready&&!this.extent?.equals(e)&&(this.view.extent=e),this._extent=e}get interacting(){return this.view.interacting}get itemId(){return this._map.portalItem?.id??this._itemId}set itemId(e){this._itemId=e,this.ready&&n.zR.reCreate(this._map,this).then((()=>{this.view.map=this._map})).catch(console.error)}get navigating(){return this.view.navigating}get scale(){return this.view.scale??this._scale}set scale(e){this.ready&&(this.view.scale=e),this._scale=e}get stationary(){return this.view.stationary}get viewpoint(){return this.view.viewpoint??this._viewpoint}set viewpoint(e){this.ready&&(0,h.i)(this.viewpoint,e)&&(this.view.viewpoint=e),this._viewpoint=e}get zoom(){return this.view.zoom??this._zoom}set zoom(e){this.ready&&(this.view.zoom=e),this._zoom=e}async addLayer(e,t){this.map?.add(e,t)}async addLayers(e,t){this.map?.addMany(e,t)}async closePopup(){this.view?.closePopup()}async destroy(){await this.manager.destroy()}async goTo(e,t){return await(this.view?.goTo(e,t))}async openPopup(e){await(this.view?.openPopup(e))}toMap(e){return this.view.toMap(e)}toScreen(e,t){return this.view.toScreen(e,t)}async tryFatalErrorRecovery(){this.view?.tryFatalErrorRecovery()}async whenLayerView(e){return await(this.view?.whenLayerView(e))}load(){this.el.childElem=document.createElement("div"),this.el.childElem.classList.add("arcgis-link-chart"),this.el.append(this.el.childElem),this.view.container??=this.el.childElem}loaded(){this.manager.onLifecycle((()=>[(0,a.watch)((()=>this.view.stationary),(()=>{this.arcgisViewChange.emit()}),{initial:!0}),(0,a.watch)((()=>this.view.ready),(()=>{this.arcgisViewReadyChange.emit()}),{initial:this.view.ready})]))}_editMapProperties(e){this.map&&(this._map=this.map),this.itemId?e.portalItem={id:this.itemId}:this.basemap?"none"===this.basemap&&(e.basemap=void 0,this.basemap=null):e.basemap="topo-vector";const{basemap:t,...i}=e;t||(e=i);const{ground:s,...n}=e;return s||(e=n),e}async _editViewProperties(e){await this.manager.use(this._map),this.view.ui||(e.ui={components:["attribution"]}),e.map??=this._map;const t=(0,h.e)(this.center,void 0);return t&&(e.center=t),this.viewpoint&&(e.viewpoint=this.viewpoint),void 0!==this.scale&&(e.scale=this.scale),this.extent&&(e.extent=this.extent),void 0!==this.zoom&&(e.zoom=this.zoom),e}}(0,s.c)("arcgis-link-chart",w)}}]);