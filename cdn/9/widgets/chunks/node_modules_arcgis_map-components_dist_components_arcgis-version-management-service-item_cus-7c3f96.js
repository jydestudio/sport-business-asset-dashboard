/*! For license information please see node_modules_arcgis_map-components_dist_components_arcgis-version-management-service-item_cus-7c3f96.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["node_modules_arcgis_map-components_dist_components_arcgis-version-management-service-item_cus-7c3f96"],{3901:(e,i,s)=>{s.r(i),s.d(i,{ArcgisVersionManagementServiceItem:()=>o});var t=s(8019),n=s(6752),r=s(498);class o extends r.WF{constructor(){super(...arguments),this._arcgisGetVersions=e=>{this.arcgisGetVersions.emit(e.detail)},this._arcgisManageVersion=e=>{this.arcgisManageVersion.emit(e.detail)},this._arcgisNewVersion=e=>{this.arcgisNewVersion.emit(e.detail)},this._versionListEventListeners=new Map,this._showInvalidVersionNotice=!0,this.arcgisFlowItemBack=(0,r.lh)(),this.arcgisFlowItemClose=(0,r.lh)(),this.arcgisGetVersions=(0,r.lh)(),this.arcgisManageVersion=(0,r.lh)(),this.arcgisNewVersion=(0,r.lh)(),this.arcgisCreateVersionList=(0,r.lh)()}static{this.properties={_showInvalidVersionNotice:16,serviceItemElementProps:0}}static{this.shadowRootOptions=r.Iq}disconnectedCallback(){super.disconnectedCallback(),this._versionList&&this._removeVersionListEventListeners(this._versionList)}_addVersionListEventListeners(e){e.addEventListener("arcgisGetVersions",this._arcgisGetVersions),this._versionListEventListeners.set("arcgisGetVersions",this._arcgisGetVersions),e.addEventListener("arcgisManageVersion",this._arcgisManageVersion),this._versionListEventListeners.set("arcgisManageVersion",this._arcgisManageVersion),e.addEventListener("arcgisNewVersion",this._arcgisNewVersion),this._versionListEventListeners.set("arcgisNewVersion",this._arcgisNewVersion)}_removeVersionListEventListeners(e){for(const[i,s]of this._versionListEventListeners)e.removeEventListener(i,s)}render(){const{serviceItemElementProps:{allowEditing:e,closable:i,currentUser:s,executionError:t,currentVersionIdentifier:o,flowElement:a,hasAdvEditingUte:c,heading:l,isInitialVersionInvalid:d,isVersionAdministrator:g,isVersioningApiAvailable:v,mode:h,pageSize:m,serviceName:V,serviceUrl:_,state:p,strings:L,versionInfos:b}}=this;let{_versionList:I}=this;const E=d.get(_)&&this._showInvalidVersionNotice?n.qy`<calcite-notice class="initial-version-invalid-block" closable kind=warning open scale=s width=full icon @calciteNoticeClose=${()=>this._showInvalidVersionNotice=!1}><div slot=title>${L.headers.invalidInitialVersion}</div><div slot=message>${L.loadErrors.invalidInitialVersion}</div></calcite-notice>`:void 0,u=n.qy`<calcite-combobox clear-disabled .label=${V} max-items=5 overlay-positioning=fixed selection-mode=single-persist @calciteComboboxChange=${e=>{const i=e.target,s=b.find((e=>e.versionIdentifier.guid===i.value));this.arcgisManageVersion.emit({actionType:"changeVersion",serviceUrl:_,versionInfo:s})}}>${b?b.map((e=>n.qy`<calcite-combobox-item class=${(0,r.CP)("dialog"===h?"":"calcite-combobox-item")} .selected=${o.guid===e.versionIdentifier.guid&&o.name===e.versionIdentifier.name} .textLabel=${e.versionIdentifier.name} .value=${e.versionIdentifier.guid}></calcite-combobox-item>`)):void 0}</calcite-combobox>`;let w,f;return e&&(w=n.qy`<calcite-action .id=${`actionManageVersions_${V}`} icon=list scale=s slot=control text @click=${async()=>{I=document.createElement("arcgis-version-management-version-list"),I.versionListElementProps={closable:i,currentUser:s,currentVersionIdentifier:o,executionError:t,hasAdvEditingUte:c,heading:l,isVersionAdministrator:g,isVersioningApiAvailable:v,pageSize:m,serviceName:V,serviceUrl:_,state:p,strings:L,versionInfos:b},I.selected=!0,I.showBackButton=!0,I.addEventListener("calciteFlowItemBack",(e=>{e.preventDefault(),this.arcgisFlowItemBack.emit()})),I.addEventListener("calciteFlowItemClose",(()=>{this.arcgisFlowItemClose.emit()})),this._addVersionListEventListeners(I),a?.append(I),this.arcgisCreateVersionList.emit(I)}}></calcite-action>`,f=n.qy`<calcite-tooltip overlay-positioning=fixed .referenceElement=${`actionManageVersions_${V}`}><span>${L.headers.manageVersions}</span></calcite-tooltip>`),n.qy`<calcite-block open .heading=${V}>${E}${u}${w}${f}</calcite-block>`}}(0,t.c)("arcgis-version-management-service-item",o)}}]);