/*! For license information please see node_modules_arcgis_map-components_dist_components_arcgis-utility-network-trace_customElement_js.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["node_modules_arcgis_map-components_dist_components_arcgis-utility-network-trace_customElement_js"],{9840:(e,t,i)=>{function s(e,t){Array.isArray(t)?e._watchHandles=[...e._watchHandles,...t]:e._watchHandles.push(t)}function a(e){e.el.childElem&&(e.el.childElem.ownedBy=e.el);const t=function({el:e}){for(let t=e.parentElement;t;t=t?.parentElement??null){if(r.has(t.tagName.toLowerCase()))return t;if("ownedBy"in t&&t.ownedBy instanceof HTMLElement&&r.has(t.ownedBy.tagName.toLowerCase()))return t.ownedBy}}(e);if(!t){const t=v(e.referenceElement);return t?(h(t,e,!0),t):void m(e)}return function(e,t){if(e!==t)return!1;const i=e.tagName.toLowerCase();return"arcgis-expand"===i||"arcgis-placement"===i}(t,e.el.parent)||(e.el.parent=t,"arcgis-expand"===t.tagName.toLowerCase()?n(t,e):"arcgis-placement"===t.tagName.toLowerCase()?o(t,e):h(t,e,!1)),t}i.d(t,{a:()=>a,b:()=>s,c:()=>u,d:()=>c,e:()=>w,f:()=>d,i:()=>g,p:()=>p,r:()=>f});const r=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function l(e,t,i="arcgisReady"){const s=e;if("boolean"==typeof s.view?.ready)t(s.view);else{let s=function(a){a.target===e&&(l(e,t,i),e.removeEventListener(i,s))};e.addEventListener(i,s)}}const n=(e,t)=>l(e,(i=>{t.el.childElem&&null!=e.content&&e.content.append(t.el.childElem),e.expandIcon=t.icon||t.widget?.icon||e.expandIcon,t.position=e.position,t.el.view=i})),o=(e,t)=>l(e,(i=>{t.el.childElem&&t.el.append(t.el.childElem),t.position=e.position,t.el.view=i})),h=(e,t,i)=>l(e,(s=>{i?m(t):t.el.childElem&&function(e,t){const i=t.el.childElem??t.el,s=[...e.children],a={};for(const e of s){const t=e.getAttribute("position")??"manual";a[t]??=[],a[t].push({child:e,position:t,index:s.indexOf(e)})}const r=a[t.position??"manual"]?.findIndex((({child:e})=>e===t.el)),l=e.view.ui;l.remove(i),l.add(i,{position:t.position,index:r})}(e,t),t.el.view=s}),"arcgisViewReadyChange");function c(e){let t=!1,i=e.el.view;const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.el),"view")??{get:()=>i,set:e=>i=e};Object.defineProperty(e.el,"view",{get:s.get.bind(e.el),set:i=>{s.set.call(e.el,i),i&&!t&&(t=!0,e.arcgisReady.emit())},configurable:!0,enumerable:!0}),i&&(e.el.view=i)}function d(e){return null==e||""===e}function u(e,t){return null!=t&&e?.position===t.position&&e?.heading===t.heading&&e?.tilt===t.tilt&&e?.fov===t.fov}function g(e,t){return void 0===t||e?.targetGeometry!==t?.targetGeometry||e?.rotation!==t?.rotation||e?.scale!==t?.scale}function w(e,t){return p(t?.center,e)}function p(e,t){if("string"==typeof t)return p(e,t.split(",").map(Number));if(!e)return t;if(Array.isArray(t)){const i=t[0],s=t[1],a=t.length>2?t[2]:void 0;if(i!==e.longitude||s!==e.latitude||a!==e.z)return t}else if(t&&!e?.equals(t))return t}async function f(e,t){null!=t&&("string"==typeof t?e.el.view=await async function(e){const t=v(e);return await new Promise((e=>{"boolean"==typeof t?.view?.ready?e(t.view):t&&t.addEventListener("arcgisViewReadyChange",(()=>e(t.view)),{once:!0})}))}(t):e.widget&&(e.el.view=t.view))}function m(e){e.el.childElem&&(e.el.shadowRoot??e.el).append(e.el.childElem)}function v(e){return"string"!=typeof e?e??void 0:(e.includes("#")||e.includes(".")||e.includes("[")?void 0:document.querySelector(`#${e}`))??document.querySelector(e)??void 0}},5864:(e,t,i)=>{i.d(t,{o:()=>a});var s=i(8015);function a(e){e.el.childElem?e.el.isConnected||(e.view?.ui?e.view.ui.remove(e.el.childElem):e.widget?.view&&e.widget.view.ui.remove(e.el.childElem),e._watchHandles&&e._watchHandles.forEach((e=>{e.remove()})),e._watchHandles=[],e.widget?.destroy()):(0,s.oK)((()=>{e.el.isConnected||(e.view?.ui?e.view.ui.remove(e.el):e.widget?.view&&e.widget.view.ui.remove(e.el),e._watchHandles&&e._watchHandles.forEach((e=>{e.remove()})),e._watchHandles=[],e.widget?.destroy())}),1e3)}},5892:(e,t,i)=>{i.r(t),i.d(t,{ArcgisUtilityNetworkTrace:()=>d});var s=i(8019),a=i(396),r=i(4312),l=i(565),n=i(9840),o=i(5864),h=i(6337),c=i(498);class d extends c.WF{constructor(){super(...arguments),this._watchHandles=[],this.defaultGraphicColor={color:[255,255,0,.6],haloOpacity:.9,fillOpacity:.2,hex:"#FFFF00"},this.disabled=!1,this.enableResultArea=!1,this.flags=[],this.gdbVersion="sde.DEFAULT",this.inputSettings=[],this.position="bottom-left",this.selectOnCompleteDisabled=!1,this.selectedTraces=[],this.showGraphicsOnCompleteDisabled=!1,this.showSelectionAttributesDisabled=!1,this.arcgisAddFlag=(0,c.lh)(),this.arcgisAddFlagComplete=(0,c.lh)(),this.arcgisAddFlagError=(0,c.lh)(),this.arcgisAddResultArea=(0,c.lh)(),this.arcgisReady=(0,c.lh)(),this.arcgisRemoveResultArea=(0,c.lh)()}static{this.properties={defaultGraphicColor:0,disabled:7,enableResultArea:5,flags:0,gdbVersion:1,inputSettings:0,position:1,referenceElement:1,resultAreaProperties:0,selectOnCompleteDisabled:5,selectedTraces:0,showGraphicsOnCompleteDisabled:5,showSelectionAttributesDisabled:5,view:0,widget:0}}static{this.shadowRootOptions=c.Iq}async checkCanTrace(){await(this.widget?.checkCanTrace())}async confirmReset(){this.widget?.confirmReset()}willUpdate(e){e.has("referenceElement")&&this.referenceElementWatcher(this.referenceElement),e.has("enableResultArea")&&this.enableResultAreaWatcher(this.enableResultArea),e.has("defaultGraphicColor")&&this.defaultGraphicColorWatcher(this.defaultGraphicColor),e.has("disabled")&&this.disabledWatcher(this.disabled,e.get("disabled")),e.has("flags")&&this.flagsWatcher(this.flags),e.has("gdbVersion")&&this.gdbVersionWatcher(this.gdbVersion),e.has("inputSettings")&&this.inputSettingsWatcher(this.inputSettings),e.has("resultAreaProperties")&&this.resultAreaProperties&&this.resultAreaPropertiesWatcher(this.resultAreaProperties),e.has("selectedTraces")&&this.selectedTracesWatcher(this.selectedTraces),e.has("selectOnCompleteDisabled")&&this.selectOnCompleteDisabledWatcher(this.selectOnCompleteDisabled),e.has("showGraphicsOnCompleteDisabled")&&this.showGraphicsOnCompleteDisabledWatcher(this.showGraphicsOnCompleteDisabled),e.has("showSelectionAttributesDisabled")&&this.showSelectionAttributesDisabledWatcher(this.showSelectionAttributesDisabled),e.has("position")&&this.positionWatcher(this.position),e.has("view")&&this.viewWatcher(this.view)}async loaded(){const e=this._createParams(),t=new l.default(e);this.widget=t,await this._addWatchers(),this._proxyEvents(),this._addContainer(),(0,n.d)(this),(0,n.a)(this)}disconnectedCallback(){super.disconnectedCallback(),(0,o.o)(this)}referenceElementWatcher(e){(0,n.r)(this,e)}enableResultAreaWatcher(e){this.widget&&(this.widget.enableResultArea=e)}defaultGraphicColorWatcher(e){this.widget&&(this.widget.defaultGraphicColor=e)}disabledWatcher(e,t){this.widget&&e!==t&&(this.widget.disabled=e)}flagsWatcher(e){this.widget&&(this.widget.flags=e)}gdbVersionWatcher(e){this.widget&&(this.widget.gdbVersion=e)}inputSettingsWatcher(e){this.widget&&(this.widget.inputSettings=e)}resultAreaPropertiesWatcher(e){this.widget&&(this.widget.resultAreaProperties=e)}selectedTracesWatcher(e){this.widget&&(this.widget.selectedTraces=e)}selectOnCompleteDisabledWatcher(e){void 0!==e&&this.widget&&(this.widget.selectOnComplete=!e)}showGraphicsOnCompleteDisabledWatcher(e){void 0!==e&&this.widget&&(this.widget.showGraphicsOnComplete=!e)}showSelectionAttributesDisabledWatcher(e){void 0!==e&&this.widget&&(this.widget.showSelectionAttributes=!e)}positionWatcher(e){void 0!==e&&this.widget&&this.el.childElem&&this.view.ui?.move(this.el.childElem,e)}viewWatcher(e){void 0!==e&&this.widget&&(this.widget.view=e)}_addContainer(){this.widget.container=this.el.childElem}async _addWatchers(){(0,n.b)(this,(0,r.watch)((()=>this.widget.disabled),(e=>this.disabled=e)))}_createParams(){const e={};return this.defaultGraphicColor&&(e.defaultGraphicColor=this.defaultGraphicColor),void 0!==this.enableResultArea&&(e.enableResultArea=this.enableResultArea),this.flags&&(e.flags=this.flags),this.gdbVersion&&(e.gdbVersion=this.gdbVersion),this.inputSettings&&(e.inputSettings=this.inputSettings),this.resultAreaProperties&&(e.resultAreaProperties=this.resultAreaProperties),this.selectedTraces&&(e.selectedTraces=this.selectedTraces),void 0!==this.selectOnCompleteDisabled&&(e.selectOnComplete=!this.selectOnCompleteDisabled),void 0!==this.showGraphicsOnCompleteDisabled&&(e.showGraphicsOnComplete=!this.showGraphicsOnCompleteDisabled),void 0!==this.showSelectionAttributesDisabled&&(e.showSelectionAttributes=!this.showSelectionAttributesDisabled),this.view&&(e.view=this.view),e}_proxyEvents(){this.widget.on("add-flag",(e=>this.arcgisAddFlag.emit(e))),this.widget.on("add-flag-complete",(e=>this.arcgisAddFlagComplete.emit(e))),this.widget.on("add-flag-error",(e=>this.arcgisAddFlagError.emit(e))),this.widget.on("add-result-area",(e=>this.arcgisAddResultArea.emit(e))),this.widget.on("remove-result-area",(e=>this.arcgisRemoveResultArea.emit(e)))}_setChildElement(e){this.el.childElem=e}render(){return h.qy`<div ${(0,a.K)(this._setChildElement)}></div>`}}(0,s.c)("arcgis-utility-network-trace",d)},396:(e,t,i)=>{i.d(t,{_:()=>g,K:()=>f});var s=i(6752),a=i(8504),r=i(7804);const l=(e,t)=>{const i=e._$AN;if(void 0===i)return!1;for(const e of i)e._$AO?.(t,!1),l(e,t);return!0},n=e=>{let t,i;do{if(void 0===(t=e._$AM))break;i=t._$AN,i.delete(e),e=t}while(0===i?.size)},o=e=>{for(let t;t=e._$AM;e=t){let i=t._$AN;if(void 0===i)t._$AN=i=new Set;else if(i.has(e))break;i.add(e),d(t)}};function h(e){void 0!==this._$AN?(n(this),this._$AM=e,o(this)):this._$AM=e}function c(e,t=!1,i=0){const s=this._$AH,a=this._$AN;if(void 0!==a&&0!==a.size)if(t)if(Array.isArray(s))for(let e=i;e<s.length;e++)l(s[e],!1),n(s[e]);else null!=s&&(l(s,!1),n(s));else l(this,e)}const d=e=>{e.type==r.OA.CHILD&&(e._$AP??=c,e._$AQ??=h)};class u extends r.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,i){super._$AT(e,t,i),o(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(l(this,e),n(this))}setValue(e){if((0,a.Rt)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}const g=()=>new w;class w{}const p=new WeakMap,f=(0,r.u$)(class extends u{render(e){return s.s6}update(e,[t]){const i=t!==this.Y;return i&&void 0!==this.Y&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.Y=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),s.s6}rt(e){if(this.isConnected||(e=void 0),"function"==typeof this.Y){const t=this.ht??globalThis;let i=p.get(t);void 0===i&&(i=new WeakMap,p.set(t,i)),void 0!==i.get(this.Y)&&this.Y.call(this.ht,void 0),i.set(this.Y,e),void 0!==e&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){return"function"==typeof this.Y?p.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})}}]);