/*! For license information please see node_modules_arcgis_map-components_dist_components_arcgis-version-management-version-list_cus-4e653f.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["node_modules_arcgis_map-components_dist_components_arcgis-version-management-version-list_cus-4e653f"],{5131:(e,t,i)=>{i.r(t),i.d(t,{ArcgisVersionManagementVersionList:()=>c});var s=i(8019),n=i(6337),o=i(396),r=i(498);const a=i(3826).AH`:host{display:none;background:#bdf2c4}:host([selected]){display:flex}calcite-block{margin-block:0}calcite-pagination{justify-content:center}`;class c extends r.WF{constructor(){super(...arguments),this._filterInputElement=(0,o._)(),this._flowItemElement=(0,o._)(),this.currentPage=1,this.selected=!1,this.showBackButton=!1,this.arcgisGetVersions=(0,r.lh)(),this.arcgisManageVersion=(0,r.lh)(),this.arcgisNewVersion=(0,r.lh)()}static{this.properties={_filteredVersionInfos:16,currentPage:11,selected:7,showBackButton:7,versionListElementProps:0}}static{this.styles=a}load(){this._filteredVersionInfos=this.versionListElementProps.versionInfos}willUpdate(e){if(e.has("versionListElementProps")){const t=e.get("versionListElementProps"),i=this.versionListElementProps;t?.versionInfos!==i.versionInfos&&(this._filteredVersionInfos=i.versionInfos,this._filterInputElement.value&&this._handleFilterChange())}}updated(){this._filterInputElement.value?.setFocus()}async setFocus(){this._flowItemElement.value?.setFocus()}goBack(){}_handleFilterChange(){const{versionListElementProps:{versionInfos:e}}=this,t=this._filterInputElement.value.value.toUpperCase();this._filteredVersionInfos=""===t?e:e.filter((e=>e.versionIdentifier.name.toUpperCase().includes(t)||e.versionIdentifier.guid.toUpperCase().includes(t))),this._filteredVersionInfos.length&&(this.currentPage=1)}_handleNoticeClosed(){this.versionListElementProps={...this.versionListElementProps,executionError:void 0}}_handlePaginationChange(e){this.currentPage=e.target.startItem}_getExecutionError(e){const{versionListElementProps:{strings:{executionErrors:t}}}=this;switch(e){case"no-advanced-editing-user-type-extension":return t.noAdvancedEditingUserTypeExtension;case"no-feature-service-found":return t.noFeatureServiceFound;case"no-valid-enterprise-version":return t.notValidEnterpriseVersion;case"no-valid-version-name":return t.invalidVersionName;default:return e}}_paginate(e,t,i){return e.slice((i-1)*t,i*t)}render(){const{currentPage:e,selected:t,showBackButton:i,versionListElementProps:{closable:s,currentUser:r,currentVersionIdentifier:a,executionError:c,hasAdvEditingUte:l,heading:h,isVersionAdministrator:d,isVersioningApiAvailable:f,pageSize:g,serviceName:u,serviceUrl:p,state:v,strings:{headers:_},strings:$,versionInfos:m}}=this,I=n.qy`<calcite-block .heading=${_.currentVersion} .description=${a.name} overlay-positioning=fixed></calcite-block>`,V=n.qy`<calcite-action id=actionRefreshVersions icon=refresh text @click=${()=>{this.arcgisGetVersions.emit({serviceUrl:p})}} slot=header-actions-end><calcite-tooltip overlay-positioning=fixed reference-element=actionRefreshVersions><span>${$.actions.refreshVersions}</span></calcite-tooltip></calcite-action>`;this._paginatedVersionInfos=this._filteredVersionInfos.length>g?this._paginate(this._filteredVersionInfos,g,e):this._filteredVersionInfos;const A=this._filteredVersionInfos.length>g?n.qy`<calcite-pagination @calcitePaginationChange=${this._handlePaginationChange} page-size=1 .startItem=${e} .totalItems=${Math.ceil(this._filteredVersionInfos.length/g)}></calcite-pagination>`:void 0,E=this._paginate(this._paginatedVersionInfos,g,1).map((e=>n.qy`<arcgis-version-management-version-item .versionItemElementProps=${{currentUser:r,currentVersionIdentifier:a,isCurrentVersionCard:!1,hasAdvEditingUte:l,isVersionAdministrator:d,isVersioningApiAvailable:f,serviceUrl:p,strings:$,versionInfo:e}}></arcgis-version-management-version-item>`)),b=m.length>g?n.qy`<calcite-block heading .label=${_.filterVersions} open><calcite-input-text clearable icon=search @calciteInputTextInput=${this._handleFilterChange} .placeholder=${$.actions.searchVersions} ${(0,o.K)(this._filterInputElement)}></calcite-input-text></calcite-block>`:void 0,C=n.qy`<calcite-list .label=${$.headers.manageVersions}>${E}</calcite-list>`,k=f&&l?n.qy`<calcite-fab appearance=outline-fill slot=fab text-enabled .text=${$.actions.newVersion} @click=${()=>{this.arcgisNewVersion.emit({serviceUrl:p})}}></calcite-fab>`:void 0,w=c?n.qy`<calcite-notice @calciteNoticeClose=${this._handleNoticeClosed} class="notice" closable kind=warning open scale=s slot=footer width=full><div slot=message>${this._getExecutionError(c)}</div></calcite-notice>`:void 0;return n.qy`<calcite-flow-item .closable=${s} .description=${u} .heading=${h} .selected=${t} .showBackButton=${i} ${(0,o.K)(this._flowItemElement)}><calcite-panel .loading=${"executing"===v}>${I}<calcite-panel .heading=${this._filteredVersionInfos.length?`${$.headers.manageVersions} (${this._filteredVersionInfos.length})`:$.headers.manageVersions}>${V}${b}${C}${k}</calcite-panel>${A}${w}</calcite-panel></calcite-flow-item>`}}(0,s.c)("arcgis-version-management-version-list",c)},396:(e,t,i)=>{i.d(t,{_:()=>g,K:()=>v});var s=i(6752),n=i(8504),o=i(7804);const r=(e,t)=>{const i=e._$AN;if(void 0===i)return!1;for(const e of i)e._$AO?.(t,!1),r(e,t);return!0},a=e=>{let t,i;do{if(void 0===(t=e._$AM))break;i=t._$AN,i.delete(e),e=t}while(0===i?.size)},c=e=>{for(let t;t=e._$AM;e=t){let i=t._$AN;if(void 0===i)t._$AN=i=new Set;else if(i.has(e))break;i.add(e),d(t)}};function l(e){void 0!==this._$AN?(a(this),this._$AM=e,c(this)):this._$AM=e}function h(e,t=!1,i=0){const s=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(t)if(Array.isArray(s))for(let e=i;e<s.length;e++)r(s[e],!1),a(s[e]);else null!=s&&(r(s,!1),a(s));else r(this,e)}const d=e=>{e.type==o.OA.CHILD&&(e._$AP??=h,e._$AQ??=l)};class f extends o.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,i){super._$AT(e,t,i),c(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(r(this,e),a(this))}setValue(e){if((0,n.Rt)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}const g=()=>new u;class u{}const p=new WeakMap,v=(0,o.u$)(class extends f{render(e){return s.s6}update(e,[t]){const i=t!==this.Y;return i&&void 0!==this.Y&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.Y=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),s.s6}rt(e){if(this.isConnected||(e=void 0),"function"==typeof this.Y){const t=this.ht??globalThis;let i=p.get(t);void 0===i&&(i=new WeakMap,p.set(t,i)),void 0!==i.get(this.Y)&&this.Y.call(this.ht,void 0),i.set(this.Y,e),void 0!==e&&this.Y.call(this.ht,e)}else this.Y.value=e}get lt(){return"function"==typeof this.Y?p.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})}}]);